<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Python ve NGram Algoritması &middot; Ali GÖREN
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
    <img src="/images/ali.jpg" alt="my-photo">
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Anasayfa</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about">About Me</a>
        
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/contact">İletişim</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2017. Made with <span class="hearts">&hearts;</span> Jekyll
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Anasayfa">Ali GÖREN</a>
            <small>Açık Kaynak, JavaScript, Python, .NET</small>
            <span class="rss-text"><a href="/atom.xml">RSS</a></span>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post post-detail">
  <h1 class="post-title">Python ve NGram Algoritması</h1>
  <span class="post-date">13 Apr 2016</span>
  
  
  
  
  

  
   <div class="notification-area">
     <strong class="notification-title">Uyarı</strong>
     <p>
       Bu yazı yayınlanalı 473 gün olmuş. Bu 15 aydan fazla bir zaman yapıyor. 
       Bu kadar eski bir yazının güncelliğini korumasını beklememelisin.
     </p>
   </div>
  

  
    <div class="tag-container">
        Etiketler:
        
          <span class="tags" alt="python etiketine sahip yazılar" title="python etiketine sahip yazılar">python</span>
        
          <span class="tags" alt="programming etiketine sahip yazılar" title="programming etiketine sahip yazılar">programming</span>
        
          <span class="tags" alt="algorithm etiketine sahip yazılar" title="algorithm etiketine sahip yazılar">algorithm</span>
        
    </div>
  
  <p>Bu yazıyı yazmadan önce google’da sayısızca arama yapıyordum. Beni çıldırtan bir olay oldu. Şimdi aradığım şey örneğin ahmet tamam iyi hoş arıyorsun da. Gelip bana neden “Bunu mu denemek istediniz?” şeklinde soru soruyorsun. Neyse önerdiği şeye tıklıyorum. Hobaa. Eski yazdığımı öneriyor bu sefer.
<!--more-->
Meselenin aslı şu. Ne yazmaya çalıştığımı nasıl olur da bilebilir ki google? Pek de bildiği söylenemez :P. Bu yazıda anlatmaya çalışacağım NGram tarzı bir algoritma kullandıkları kesin. Bakarsınız onlar tam da bunu kullanıyorlardır.</p>

<p>Bu işlem temelde “ali yanlış söyler, ahmet düzeltir” mantığına dayalı. Bunu gündelik hayatta yapmak, programlamada yapmaya göre daha basit. O yüzden bizim için bunu basitleştirecek olan <a href="https://pypi.python.org/pypi/ngram">ngram</a> kütüphanesini kullanabiliriz.</p>

<p>#NGram Kütüphanesi Kurulumu</p>

<p>Kurulum basit şekilde</p>

<p><code class="highlighter-rouge">pip install ngram</code></p>

<p>komutu ile yapılıyor. İlk basit örneğimize geçelim:</p>

<p>Öncelikle ngram’ı import edelim:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">ngram</span> <span class="kn">import</span> <span class="n">NGram</span>
</code></pre>
</div>

<p>Bu işlemi yaptıktan sonra ngram içerisine bir dizi değeri atamamız lazım. Örneğin programlama dillerinin kontrolünün yapılmasını istiyoruz:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">prog_dilleri</span> <span class="o">=</span> <span class="p">[</span><span class="s">"php"</span><span class="p">,</span> <span class="s">"python"</span><span class="p">,</span> <span class="s">"csharp"</span><span class="p">,</span> <span class="s">"cpp"</span><span class="p">,</span>
                <span class="s">"ruby"</span><span class="p">,</span> <span class="s">"java"</span><span class="p">,</span> <span class="s">"haskell"</span><span class="p">,</span> <span class="s">"erlang"</span><span class="p">]</span>
</code></pre>
</div>

<p>Bu dillerin girili olması lazım. Burada yaptığımız şey harf bigramı oluyor. Pekala öyleyse o zaman bu dilleri NGram ağacına ekleyelim. Yani aslında NGram nesnesine gönderiyoruz:</p>

<p><code class="highlighter-rouge">v = NGram(prog_dilleri)</code></p>

<p>Çok basit şekilde ilerliyoruz. Dizi değerlerimiz artık NGram ağacına takılı durumda. Artık burada kendimize göre işlemler yapabiliriz. Bu işlemlerden birisi ise tahmin ettiğimiz gibi diller arasında arama yapmak ve en yakın olanını bulmak. O zaman bunu yapan bi metod oluşturalım.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">arama</span><span class="p">(</span><span class="n">ara</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ara</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Sonuç:"</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre>
</div>

<p>Evet burada bakmamız gereken kısım <code class="highlighter-rouge">v.search()</code> kısmı. search işlevi ilk argümanda kullanıcının atadığı değeri alır. Bu değer, daha önceden girili olan değerlere benzer mi değil mi kontrolü yapılır. Yani Örneğin prog_dilleri dizisindeki python ile payton ne kadar benzer şeklinde sorar. Gelelim <code class="highlighter-rouge">threshold</code> değerine. Bu değer girilen değerin, veritabanında yani NGram ağacındaki benzerine olan yakınlık durumunu sorgular. Bu yakınlık eşiğini kontrol için vardır. Genel itibariyle programımızın kodları şöyle:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">ngram</span> <span class="kn">import</span> <span class="n">NGram</span>

<span class="n">prog_dilleri</span> <span class="o">=</span> <span class="p">[</span><span class="s">"php"</span><span class="p">,</span> <span class="s">"python"</span><span class="p">,</span> <span class="s">"csharp"</span><span class="p">,</span> <span class="s">"cpp"</span><span class="p">,</span>
                <span class="s">"ruby"</span><span class="p">,</span> <span class="s">"java"</span><span class="p">,</span> <span class="s">"haskell"</span><span class="p">,</span> <span class="s">"erlang"</span><span class="p">]</span>

<span class="n">v</span> <span class="o">=</span> <span class="n">NGram</span><span class="p">(</span><span class="n">prog_dilleri</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">aramaYap</span><span class="p">(</span><span class="n">ara</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ara</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Önerilen:"</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">"-- Yakınlık:"</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>

<span class="n">aramaYap</span><span class="p">(</span><span class="s">"payton"</span><span class="p">)</span>
</code></pre>
</div>

<p>Programımızı çalıştırınca şöyle oluyor:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Önerilen: python -- Yakınlık: 0.23076923076923078
</code></pre>
</div>

<p>Evet bu kadardı arkadaşlar. İsterseniz NGram dokümanlarına buradan ulaşabilirsiniz.</p>

</div>
<div class="comments">
  <h3>Yorumlar</h3>
  <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://aligren.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                
</div>

<!--<div class="related">
  <h2>İlişkili Yazılar</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/onbelleklenebilen-http-durum-kodlari">
            Önbelleklenebilen HTTP Durum Kodları
            <small>27 Jul 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/javascript-notlarim">
            JavaScript Notlarım
            <small>26 Jun 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/javascript-add-and-substract-days">
            JavaScript Add and Substract Days
            <small>02 Apr 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
-->
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
