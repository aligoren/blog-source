<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Python'da Struct Kullanımı &middot; Ali GÖREN
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
    <img src="/images/ali.jpg" alt="my-photo">
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Anasayfa</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about">About Me</a>
        
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/contact">İletişim</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2017. Made with <span class="hearts">&hearts;</span> Jekyll
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Anasayfa">Ali GÖREN</a>
            <small>Açık Kaynak, JavaScript, Python, .NET</small>
            <span class="rss-text"><a href="/atom.xml">RSS</a></span>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post post-detail">
  <h1 class="post-title">Python'da Struct Kullanımı</h1>
  <span class="post-date">30 Mar 2016</span>
  
  
  
  
  

  
   <div class="notification-area">
     <strong class="notification-title">Uyarı</strong>
     <p>
       Bu yazı yayınlanalı 487 gün olmuş. Bu 16 aydan fazla bir zaman yapıyor. 
       Bu kadar eski bir yazının güncelliğini korumasını beklememelisin.
     </p>
   </div>
  

  
    <div class="tag-container">
        Etiketler:
        
          <span class="tags" alt="python etiketine sahip yazılar" title="python etiketine sahip yazılar">python</span>
        
          <span class="tags" alt="programming etiketine sahip yazılar" title="programming etiketine sahip yazılar">programming</span>
        
          <span class="tags" alt="data structures etiketine sahip yazılar" title="data structures etiketine sahip yazılar">data structures</span>
        
    </div>
  
  <p>Evet var olmaz demeyin lütfen. Kısacası struct bir şablon olarak gelir önümüze. Bildiğimiz manada struct, farklı verileri bir araya getiriyoruz yani aslında grupluyor. Peki kullanımı nasıldı ki “Python’da” ile başlayan bir başlık attım ki?</p>

<p>Örneğin D dilinden örnek verecek olursak Ali Çehreli hocam çok güzel <a href="http://ddili.org/ders/d/yapilar.html">açıklamış</a>:
<!--more--></p>
<div class="language-d highlighter-rouge"><pre class="highlight"><code><span class="k">struct</span> <span class="n">GununSaati</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">saat</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">dakika</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Bu D dili ile yazılan bir örnek. Ve oradan bir alıntı yapmak istiyorum:</p>

<p>struct birbirleriyle ilişkili değişkenleri bir araya getirerek yeni bir tür olarak kullanma olanağı verir:</p>

<p>Benim de yukarıda söylediğimle aynı aslında. Ve sonrasında alt kısımda bir açıklama daha getirilmiş.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Yukarıdaki tanım, saat ve dakika isimli iki int değişkeni
bir araya getiren ve ismi GününSaati olan yeni bir tür tanımlar.
Yukarıdaki tanımdan sonra artık başka
türler gibi kullanabileceğimiz
GününSaati isminde yeni bir türümüz olur.
Örnek olarak int türüne benzer kullanımını şöyle gösterebiliriz:
</code></pre>
</div>

<p>Evet buraya kadar biraz anlam çıkarılmış olmalı sanıyorum ki. Peki bunu Python’da nasıl yaparız?</p>

<p><img src="/images/posts/25.png" alt="/images/posts/25.png" /></p>

<p>Bunun için öncelikle <code class="highlighter-rouge">collections</code> kullanmamız gerekiyor. Ve buradan dahil edeceğimiz <code class="highlighter-rouge">namedtuple</code> da struct’ımızı oluşturmamızda bize yardımcı olacak. Basit bir anlatım yapmaya çalışayım. Bir namedtuple için.</p>

<p>namedtuple ilk argüman olarak Tip Adı olarak kabul edilen bir argüman alır. Diğer işe yarar argüman ise bu bize özgü tipe ait alanlardır. Yukarıdaki D dili örneğine tekrar bakarsak saat ve dakika, yazacağımız python kodunda bizim alanlarımız olacaktır. Temelde kod yapısı şöyle olacaktır:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">namedtuple</span><span class="p">(</span><span class="s">"TipAdı"</span><span class="p">,</span> <span class="s">"tip_alanı ikinci_alan üçüncü_alan"</span><span class="p">)</span>
</code></pre>
</div>

<p>O zaman bir örnek kod görelim bu anlamamız açısından daha iyi olacaktır.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">YeniTip</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'GununSaati'</span><span class="p">,</span> <span class="s">"saat dakika"</span><span class="p">)</span>
</code></pre>
</div>

<p>Öncelikle namedtuple’ı çağırdık bunu söylemiştim. namedtuple’ı bir değişkene atadım aslında artık namedtuple’ın işlerini <code class="highlighter-rouge">YeniTip</code> yönetecek. Burada namedtuple <code class="highlighter-rouge">GununSaati</code> adında yeni bir tür oluşturdu. Bu türün alanları ise saat ve dakika oluyor. Tür dediğim kısım aslında tip kısmı. Zaten verdiğim açıklama linkine de bakarsanız oranın alacağı parameter TypeName olarak belirtilmiş. Peki yeni türümüzü hazırladık nasıl kullanacağız?</p>

<p>Öncelikle bu yeni tipimizi bir değişkene ilkleyelim. Bu ilkleme sırasında YeniTip argüman alan bir işlev gibi davranacak. Bunu bir kod ile görelim:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">zaman</span> <span class="o">=</span> <span class="n">YeniTip</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</code></pre>
</div>

<p>Oluşturduğumuz zaman değişkeni, YeniTip olarak ilklediğimiz veri tipine ilklendi. Artık zaman değişkeni ile istediğim alanlara erişebilirim. Bu örnekte alanlarımız saat ve dakika idi. Örnekte 15 saat, 30 ise dakika oluyor. Şu an yazdığımız kodların tam haline bakalım:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">YeniTip</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'GununSaati'</span><span class="p">,</span> <span class="s">"saat dakika"</span><span class="p">)</span>

<span class="n">zaman</span> <span class="o">=</span> <span class="n">YeniTip</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">zaman</span><span class="o">.</span><span class="n">saat</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">zaman</span><span class="o">.</span><span class="n">dakika</span><span class="p">)</span>
</code></pre>
</div>

<p>Bu kodun verdiği çıktı 15 ve 30 olacaktır. Eğer özel bir tür var ise yani GununSaati gibi bir tür var ise bu türe ait alanları öğrenmek yine çok basit. Yukarıdaki zaman değişkeni üzerinden gidecek olursak şöyle açıklayayım:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">zaman</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span> <span class="c"># print(zaman._fields)</span>
</code></pre>
</div>

<p>ya da henüz herhangi bir değer almamış hali ile yani saf hali ile tip üzerinden kontrolü şöyle sağlarız:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">YeniTip</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
</code></pre>
</div>

<p>Bu sayede değer girmek zorunda kalmamış oluruz. Ayrıca dikkat etmemiz gereken bir diğer husus ise değeri bir kere verilmiş namedtuple’a daha sonra tekrar değer veremiyorsunuz. Yani şunu yapamazsınız</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">zaman</span> <span class="o">=</span> <span class="n">YeniTip</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">zaman</span><span class="o">.</span><span class="n">saat</span> <span class="o">=</span> <span class="mi">20</span>
</code></pre>
</div>

<p>Eğer bunu yaparsanız şöyle bir hata alırsınız:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Traceback (most recent call last):
  File "test.py", line 6, in &lt;module&gt;
    zaman.saat = 20
AttributeError: can't set attribute
</code></pre>
</div>

<p>Hmm diyor ki bir değer set edemezsiniz. O yüzden eğer yapılara bir değer vereceksek ilklediğimiz anda bu değerleri vermemiz gerekiyor. Ancak bu dinamik değerler alamaz demek değildir. Örnek verecek olursak:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">saat</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>

<span class="n">YeniTip</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'GununSaati'</span><span class="p">,</span> <span class="s">"saat dakika"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">sa</span> <span class="ow">in</span> <span class="n">saat</span><span class="p">:</span>
    <span class="n">zaman</span> <span class="o">=</span> <span class="n">YeniTip</span><span class="p">(</span><span class="n">sa</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">zaman</span><span class="o">.</span><span class="n">saat</span><span class="p">,</span> <span class="s">":"</span><span class="p">,</span> <span class="n">zaman</span><span class="o">.</span><span class="n">dakika</span><span class="p">)</span>

<span class="s">"""
10 : 30
11 : 30
12 : 30
13 : 30
14 : 30
15 : 30
"""</span>
</code></pre>
</div>

<p>Yukarıdaki örneği verdim. Aslında bunu iterable hale getirmemizi sağlayan <code class="highlighter-rouge">_make</code> işlevi var. Örneğin;</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="n">saat_dakika</span> <span class="o">=</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
<span class="n">YeniTip</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">"GununSaati"</span><span class="p">,</span> <span class="s">"saat dakika"</span><span class="p">)</span>
<span class="n">YeniTip</span><span class="o">.</span><span class="n">_make</span><span class="p">(</span><span class="n">saat_dakika</span><span class="p">)</span>
<span class="c"># GununSaati(saat=15, dakika=30)</span>
</code></pre>
</div>

<p>Makaleyi yanlışa götürmemek adına yukarıdaki set edilemez hatasına farklı bir açıdan yaklaşalım. Evet direkt olarak bir set etme işlemi yapamıyoruz ancak <code class="highlighter-rouge">_replace</code> işlevi ile değeri değiştirebiliriz. Fakat bunu tanımlamadan hemen sonra yapmalıyız. Örnek şöyle olmalı:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">YeniTip</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'GununSaati'</span><span class="p">,</span> <span class="s">"saat dakika"</span><span class="p">)</span>

<span class="n">zaman</span> <span class="o">=</span> <span class="n">YeniTip</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="n">zaman</span> <span class="o">=</span> <span class="n">zaman</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">saat</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">zaman</span><span class="o">.</span><span class="n">saat</span><span class="p">)</span> <span class="c"># 19</span>
</code></pre>
</div>

<p>Son olarak da zaman değişkenine type kontrolü yapalım.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">YeniTip</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'GununSaati'</span><span class="p">,</span> <span class="s">"saat dakika"</span><span class="p">)</span>

<span class="n">zaman</span> <span class="o">=</span> <span class="n">YeniTip</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="n">zaman</span> <span class="o">=</span> <span class="n">zaman</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">saat</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">zaman</span><span class="p">))</span>

<span class="c"># &lt;class '__main__.GununSaati'&gt;</span>
</code></pre>
</div>

<p>Artık bu nesnenin türünün GununSaati olduğunu görebiliyoruz. Hatalı bir nokta var ise şimdiden özür dilerim.</p>

</div>
<div class="comments">
  <h3>Yorumlar</h3>
  <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://aligren.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                
</div>

<!--<div class="related">
  <h2>İlişkili Yazılar</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/onbelleklenebilen-http-durum-kodlari">
            Önbelleklenebilen HTTP Durum Kodları
            <small>27 Jul 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/javascript-notlarim">
            JavaScript Notlarım
            <small>26 Jun 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/javascript-add-and-substract-days">
            JavaScript Add and Substract Days
            <small>02 Apr 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
-->
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
